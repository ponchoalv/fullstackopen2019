{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Persons","_ref","persons","deletePerson","react_default","a","createElement","Fragment","map","person","key","name","number","onClick","id","PersonForm","addPersonHandler","newNameField","newNameFieldHandler","newNumberField","newNumberFieldHandler","onSubmit","value","onChange","type","Filter","filterField","filterFieldHandler","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","message","notificationClassName","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","filter","setFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","setNotificationClassName","setNotification","setTimeout","filteredPersons","trim","length","toLowerCase","includes","useEffect","personsService","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","existingPerson","find","newPerson","window","confirm","actualPerson","catch","_","components_Persons","personToDelete","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.dffff982.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Persons = ({ persons, deletePerson }) => (\r\n  <>\r\n    {persons.map(person => (\r\n      <p key={person.name}>\r\n        {person.name} {person.number} <button onClick={deletePerson(person.id)}>delete</button>\r\n      </p>\r\n    ))}\r\n  </>\r\n);\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPersonHandler,\r\n  newNameField,\r\n  newNameFieldHandler,\r\n  newNumberField,\r\n  newNumberFieldHandler\r\n}) => (\r\n  <form onSubmit={addPersonHandler}>\r\n    <div>\r\n      name: <input value={newNameField} onChange={newNameFieldHandler} />\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumberField} onChange={newNumberFieldHandler} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filterField, filterFieldHandler }) => (\r\n  <div>\r\n    filter shown witih{\" \"}\r\n    <input value={filterField} onChange={filterFieldHandler} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, notificationClassName}) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={notificationClassName}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Persons from \"./components/Persons\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Filter from \"./components/Filter\";\r\nimport personsService from \"./services/persons\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [notificationMessage, setNotificationMessage] = useState(null);\r\n  const [notificationClassName, setNotificationClassName] = useState(\r\n    \"notification\"\r\n  );\r\n\r\n  const setNotification = (message, className) => {\r\n    setNotificationMessage(message);\r\n    setNotificationClassName(className);\r\n    setTimeout(() => {\r\n      setNotificationMessage(null);\r\n    }, 2000);\r\n  };\r\n\r\n  const filteredPersons =\r\n    filter.trim().length === 0\r\n      ? persons\r\n      : persons.filter(person =>\r\n          person.name.toLowerCase().includes(filter.toLowerCase())\r\n        );\r\n\r\n  useEffect(() => {\r\n    personsService.getAll().then(persons => setPersons(persons));\r\n  }, []);\r\n\r\n  const handleNameChange = event => setNewName(event.target.value);\r\n  const handleNumberChange = event => setNewNumber(event.target.value);\r\n  const handleFilterChange = event => setFilter(event.target.value);\r\n\r\n  const addPerson = event => {\r\n    event.preventDefault();\r\n\r\n    const existingPerson = persons.find(person =>\r\n      person.name.includes(newName)\r\n    );\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    if (existingPerson) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        personsService\r\n          .update(existingPerson.id, newPerson)\r\n          .then(person => {\r\n            setPersons(\r\n              persons.map(actualPerson =>\r\n                actualPerson.id === existingPerson.id ? person : actualPerson\r\n              )\r\n            );\r\n            setNotification(`Updated ${person.name}`, \"successful\");\r\n          })\r\n          .catch(_ => {\r\n            setNotification(\r\n              `Information of ${\r\n                newPerson.name\r\n              } has already been removed from server`,\r\n              'error'\r\n            );\r\n          });\r\n      }\r\n    } else {\r\n      personsService.create(newPerson).then(person => {\r\n        setPersons(persons.concat(person));\r\n        setNotification(`Added ${person.name}`, \"successful\");\r\n      });\r\n    }\r\n  };\r\n\r\n  const deletePerson = id => () => {\r\n    const personToDelete = persons.find(person => person.id === id);\r\n\r\n    if (window.confirm(`Delete ${personToDelete.name}`)) {\r\n      personsService\r\n        .deletePerson(id)\r\n        .then(setPersons(persons.filter(person => person.id !== id)));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification\r\n        message={notificationMessage}\r\n        notificationClassName={notificationClassName}\r\n      />\r\n      <Filter filterField={filter} filterFieldHandler={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        addPersonHandler={addPerson}\r\n        newNameField={newName}\r\n        newNameFieldHandler={handleNameChange}\r\n        newNumberField={newNumber}\r\n        newNumberFieldHandler={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}